<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Игра в рюкзак</title>
  <link rel="stylesheet" href="../static/css/game.css">
</head>
<body>
<div class="decoration"></div>
<div class="decoration"></div>

<div class="game-container">
  <h2>Игра в рюкзак</h2>

  <div class="game-header">
    <div class="stats-item">
      <div class="label">Вес</div>
      <div class="value" id="current-weight">0/50</div>
    </div>
    <div class="stats-item">
      <div class="label">Текущий счёт</div>
      <div class="value" id="current-score">0</div>
    </div>
    <div class="stats-item">
      <div class="label">Лучший счёт</div>
      <div class="value" id="best-score">0</div>
    </div>
    <div class="stats-item">
      <div class="label">Осталось времени</div>
      <div class="value" id="time-left">2:00</div>
    </div>
  </div>

  <div class="grid-container" id="game-grid">
    <!-- Cells will be generated by JavaScript -->
  </div>

  <div class="finish-btn-container">
    <button class="finish-btn" id="finish-btn">Пройти игру заново</button>
    <a href="/leaderboard" id="finish-leader" style="text-decoration: none;">
      <button class="finish-btn">Лидеры</button>
    </a>
  </div>
</div>
<script>
  const backpack_size = {{ backpack_size|default(100) }};
  const weight_sum = {{ weight_sum|default(0) }};
  const treasure_sum = {{ treasure_sum|default(0) }};
  const best_treasure = {{ best_treasure|default(0) }};
  const selected_ids = {{ selected_ids|tojson|default([]) }};
</script>
<script src="{{ url_for('static', filename='game.js') }}"></script>
</body>
</html>